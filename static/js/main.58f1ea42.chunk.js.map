{"version":3,"sources":["Phaser/GameScene.js","Phaser/StartScene.js","Phaser/FinishScene.js","Phaser/OverScene.js","Comonents/Main.js","App.js","index.js"],"names":["snake","food","cursors","StartScene","this","load","html","bitmapFont","text","add","bitmapText","setTint","current","JSON","parse","localStorage","getItem","setText","name","element","dom","createFromCache","getChildByName","setAttribute","removeAttribute","addListener","on","e","target","value","length","event","getAttribute","setVisible","scene","manager","start","inputText","removeListener","objLocalStor","level","id","Date","now","setItem","stringify","Phaser","Scene","GameScene","stop","image","setTimeout","gameOver","scoreBitmapText","Food","Class","Extends","GameObjects","Image","initialize","x","y","call","setTexture","setPosition","setOrigin","total","children","eat","sceneBind","Snake","headPosition","Geom","Point","body","group","head","create","alive","speed","moveTime","tail","grow","heading","direction","hitBody","Actions","GetFirst","entries","update","time","move","faceLeft","faceRight","faceUp","faceDown","Math","Wrap","console","log","ShiftPosition","getChildren","collideWithFood","updateGrid","grid","each","segment","bx","by","input","keyboard","createCursorKeys","delta","left","isDown","right","up","down","repositionFood","testGrid","validLocations","push","pos","RND","pick","FinishScene","data","result","highScore","resultButton","startButton","saveResult","zone","width","originX","height","originY","setInteractive","once","axios","post","URL","then","resp","catch","err","message","scores","OverScene","get","i","tween","targets","ease","k","duration","yoyo","repeat","alpha","Test","config","type","WEBGL","backgroundColor","createContainer","parent","Game","React","Component","App","Main","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.58f1ea42.chunk.js","sourcesContent":["import Phaser from \"phaser\";\r\n\r\nlet snake;\r\nlet food;\r\nlet cursors;\r\n\r\nconst UP = 0;\r\nconst DOWN = 1;\r\nconst LEFT = 2;\r\nconst RIGHT = 3;\r\n\r\nexport default class GameScene extends Phaser.Scene {\r\n  constructor() {\r\n    super(\"Game\");\r\n  }\r\n  ////////////////////////////////////////////////////////////////////\r\n\r\n  gameOver() {\r\n    this.scene.manager.stop(\"Game\");\r\n    this.scene.manager.start(\"FinishScene\", { snake, food });\r\n  }\r\n\r\n  preload() {\r\n    this.load.image(\"food\", \"assets/coin.png\");\r\n    this.load.image(\"body\", \"assets/player.png\");\r\n    this.load.bitmapFont(\"arcade\", \"assets/arcade.png\", \"assets/arcade.xml\");\r\n\r\n    setTimeout(() => this.gameOver(), 60000);\r\n  }\r\n\r\n  create() {\r\n    let scoreBitmapText;\r\n    scoreBitmapText = this.add.bitmapText(6, 6, \"arcade\", \"0\", 20).setTint(0xffffff);\r\n    // let scoreText;\r\n    // scoreText = this.add.text(6, 6, \"0\", { fontSize: \"24px\", fill: \"#000\" });\r\n\r\n    let Food = new Phaser.Class({\r\n      Extends: Phaser.GameObjects.Image,\r\n\r\n      initialize: function Food(scene, x, y) {\r\n        Phaser.GameObjects.Image.call(this, scene);\r\n\r\n        this.setTexture(\"food\");\r\n        this.setPosition(x * 16, y * 16).setOrigin(0, 0);\r\n\r\n        this.total = 0;\r\n\r\n        scene.children.add(this);\r\n      },\r\n\r\n      eat: function () {\r\n        this.total++;\r\n        scoreBitmapText.setText(this.total);\r\n\r\n        if (this.total > 3) {\r\n          let sceneBind = this;\r\n          return setTimeout(() => sceneBind.scene.gameOver(), 0);\r\n        }\r\n      },\r\n    });\r\n\r\n    let Snake = new Phaser.Class({\r\n      initialize: function Snake(scene, x, y) {\r\n        this.headPosition = new Phaser.Geom.Point(x, y);\r\n\r\n        this.body = scene.add.group();\r\n\r\n        this.head = this.body.create(x * 16, y * 16, \"body\");\r\n        this.head.setOrigin(0);\r\n\r\n        this.alive = true;\r\n\r\n        this.speed = 300;\r\n\r\n        this.moveTime = 0;\r\n\r\n        this.tail = new Phaser.Geom.Point(x, y);\r\n\r\n        this.grow();\r\n        this.grow();\r\n\r\n        this.heading = RIGHT;\r\n        this.direction = RIGHT;\r\n      },\r\n\r\n      hitBody: function () {\r\n        return Phaser.Actions.GetFirst(\r\n          this.body.children.entries,\r\n          { x: this.head.x, y: this.head.y },\r\n          1,\r\n        );\r\n      },\r\n\r\n      update: function (time) {\r\n        if (time >= this.moveTime) {\r\n          return this.move(time);\r\n        }\r\n      },\r\n\r\n      faceLeft: function () {\r\n        if (this.direction === UP || this.direction === DOWN) {\r\n          this.heading = LEFT;\r\n        }\r\n      },\r\n\r\n      faceRight: function () {\r\n        if (this.direction === UP || this.direction === DOWN) {\r\n          this.heading = RIGHT;\r\n        }\r\n      },\r\n\r\n      faceUp: function () {\r\n        if (this.direction === LEFT || this.direction === RIGHT) {\r\n          this.heading = UP;\r\n        }\r\n      },\r\n\r\n      faceDown: function () {\r\n        if (this.direction === LEFT || this.direction === RIGHT) {\r\n          this.heading = DOWN;\r\n        }\r\n      },\r\n\r\n      move: function (time) {\r\n        if (this.hitBody()) {\r\n          this.alive = false;\r\n          return false;\r\n        }\r\n\r\n        switch (this.heading) {\r\n          case LEFT:\r\n            this.headPosition.x = Phaser.Math.Wrap(this.headPosition.x - 1, 0, 40);\r\n            break;\r\n\r\n          case RIGHT:\r\n            this.headPosition.x = Phaser.Math.Wrap(this.headPosition.x + 1, 0, 40);\r\n            break;\r\n\r\n          case UP:\r\n            this.headPosition.y = Phaser.Math.Wrap(this.headPosition.y - 1, 0, 30);\r\n            break;\r\n\r\n          case DOWN:\r\n            this.headPosition.y = Phaser.Math.Wrap(this.headPosition.y + 1, 0, 30);\r\n            break;\r\n          default:\r\n            console.log(\"Error\");\r\n        }\r\n\r\n        this.direction = this.heading;\r\n\r\n        Phaser.Actions.ShiftPosition(\r\n          this.body.getChildren(),\r\n          this.headPosition.x * 16,\r\n          this.headPosition.y * 16,\r\n          1,\r\n          this.tail,\r\n        );\r\n\r\n        this.moveTime = time + this.speed;\r\n\r\n        return true;\r\n      },\r\n\r\n      grow: function () {\r\n        let newPart = this.body.create(this.tail.x, this.tail.y, \"body\");\r\n\r\n        newPart.setOrigin(0);\r\n      },\r\n\r\n      collideWithFood: function (food) {\r\n        if (this.head.x === food.x && this.head.y === food.y) {\r\n          this.grow();\r\n\r\n          food.eat();\r\n\r\n          if (this.speed > 20 && food.total % 5 === 0) {\r\n            this.speed -= 5;\r\n          }\r\n\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n\r\n      updateGrid: function (grid) {\r\n        this.body.children.each(function (segment) {\r\n          let bx = segment.x / 16;\r\n          let by = segment.y / 16;\r\n\r\n          grid[by][bx] = false;\r\n        });\r\n\r\n        return grid;\r\n      },\r\n    });\r\n\r\n    snake = new Snake(this, 8, 8);\r\n    food = new Food(this, 10, 4);\r\n\r\n    cursors = this.input.keyboard.createCursorKeys();\r\n  }\r\n\r\n  update(time, delta) {\r\n    if (!snake.alive) {\r\n      this.scene.manager.stop(\"Game\");\r\n      this.scene.manager.start(\"FinishScene\", { snake, food });\r\n      return;\r\n    }\r\n\r\n    if (cursors.left.isDown) {\r\n      snake.faceLeft();\r\n    } else if (cursors.right.isDown) {\r\n      snake.faceRight();\r\n    } else if (cursors.up.isDown) {\r\n      snake.faceUp();\r\n    } else if (cursors.down.isDown) {\r\n      snake.faceDown();\r\n    }\r\n\r\n    if (snake.update(time)) {\r\n      if (snake.collideWithFood(food)) {\r\n        this.repositionFood();\r\n      }\r\n    }\r\n  }\r\n\r\n  repositionFood() {\r\n    let testGrid = [];\r\n\r\n    for (let y = 0; y < 30; y++) {\r\n      testGrid[y] = [];\r\n\r\n      for (let x = 0; x < 40; x++) {\r\n        testGrid[y][x] = true;\r\n      }\r\n    }\r\n\r\n    snake.updateGrid(testGrid);\r\n\r\n    let validLocations = [];\r\n\r\n    for (let y = 0; y < 30; y++) {\r\n      for (let x = 0; x < 40; x++) {\r\n        if (testGrid[y][x] === true) {\r\n          validLocations.push({ x: x, y: y });\r\n        }\r\n      }\r\n    }\r\n\r\n    if (validLocations.length > 0) {\r\n      let pos = Phaser.Math.RND.pick(validLocations);\r\n\r\n      food.setPosition(pos.x * 16, pos.y * 16);\r\n\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n","import Phaser from \"phaser\";\r\n\r\nexport default class StartScene extends Phaser.Scene {\r\n  constructor() {\r\n    super(\"Start\");\r\n  }\r\n\r\n  preload() {\r\n    this.load.html(\"nameform\", \"assets/nameform.html\"); //snake\r\n    this.load.bitmapFont(\"arcade\", \"assets/arcade.png\", \"assets/arcade.xml\");\r\n  }\r\n\r\n  create() {\r\n    let text = this.add.bitmapText(40, 50, \"arcade\", \"\", 20).setTint(0xffffff);\r\n    // let text = this.add.text(130, 40, \"\", {\r\n    //   color: \"white\",\r\n    //   fontSize: \"30px \",\r\n    // });\r\n\r\n    let current = JSON.parse(localStorage.getItem(\"snake\"));\r\n\r\n    if (current) {\r\n      text.setText(\"Welcome \" + current.name);\r\n    }\r\n    if (!current) {\r\n      text.setText(\"Please enter your name\");\r\n    }\r\n\r\n    var element = this.add.dom(300, 200).createFromCache(\"nameform\");\r\n\r\n    if (current) {\r\n      element.getChildByName(\"nameField\").setAttribute(\"hidden\", true);\r\n      element.getChildByName(\"playButton\").removeAttribute(\"disabled\");\r\n    }\r\n\r\n    element.addListener(\"click\");\r\n    element.addListener(\"input\");\r\n\r\n    element.on(\"input\", function (e) {\r\n      e.target.value.length > 1 && this.getChildByName(\"playButton\").removeAttribute(\"disabled\");\r\n    });\r\n\r\n    element.on(\"click\", function (event) {\r\n      if (element.getChildByName(\"nameField\").getAttribute(\"hidden\")) {\r\n        this.setVisible(false);\r\n        text.setText(\"\");\r\n        this.scene.scene.manager.start(\"Game\");\r\n        return;\r\n      }\r\n      if (event.target.name === \"playButton\") {\r\n        var inputText = this.getChildByName(\"nameField\");\r\n\r\n        if (inputText.value !== \"\") {\r\n          this.removeListener(\"click\");\r\n\r\n          this.setVisible(false);\r\n\r\n          let objLocalStor = { name: inputText.value, level: null, id: Date.now() };\r\n          localStorage.setItem(\"snake\", JSON.stringify(objLocalStor));\r\n          text.setText(\"\");\r\n          this.scene.scene.manager.start(\"Game\");\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n","import Phaser from \"phaser\";\r\nimport axios from \"axios\";\r\n// const URL = \"http://localhost:3004\";\r\nconst URL = \"https://young-lake-73539.herokuapp.com\";\r\n\r\nexport default class FinishScene extends Phaser.Scene {\r\n  constructor() {\r\n    super(\"FinishScene\");\r\n  }\r\n\r\n  init(data) {\r\n    this.snake = data.snake;\r\n    this.food = data.food;\r\n  }\r\n\r\n  preload() {\r\n    this.load.bitmapFont(\"arcade\", \"assets/arcade.png\", \"assets/arcade.xml\");\r\n  }\r\n\r\n  create() {\r\n    console.log(this.snake, this.food);\r\n    let result = this.snake.alive && this.food.total > 0 ? \"Well Done\" : \"Game Over\";\r\n    this.add.bitmapText(160, 50, \"arcade\", result).setTint(0xffffff);\r\n\r\n    const highScore = this.add.bitmapText(480, 200, \"arcade\", \"highscore\", 20).setOrigin(0.5, 1);\r\n\r\n    let resultButton = this.snake.alive && this.food.total > 0 ? \"NExt level\" : \"Start Again\";\r\n    const startButton = this.add.bitmapText(160, 200, \"arcade\", resultButton, 20).setOrigin(0.5, 1);\r\n\r\n    const saveResult = this.add.bitmapText(300, 300, \"arcade\", \"save result\", 20).setOrigin(0.5, 1);\r\n\r\n    this.add\r\n      .zone(\r\n        saveResult.x - saveResult.width * saveResult.originX - 16,\r\n        saveResult.y - saveResult.height * saveResult.originY - 16,\r\n        saveResult.width + 32,\r\n        saveResult.height + 32,\r\n      )\r\n      .setOrigin(0, 0)\r\n      .setInteractive()\r\n      .once(\"pointerup\", () => {\r\n        let current = JSON.parse(localStorage.getItem(\"snake\"));\r\n        current.level = this.food.total;\r\n\r\n        delete current.id;\r\n\r\n        axios\r\n          .post(URL + \"/add-users\", current)\r\n          .then(resp => {\r\n            this.scene.manager.stop(\"FinishScene\");\r\n            this.scene.manager.start(\"OverScene\");\r\n          })\r\n          .catch(err => console.log(err.message));\r\n      });\r\n\r\n    this.add\r\n      .zone(\r\n        startButton.x - startButton.width * startButton.originX - 16,\r\n        startButton.y - startButton.height * startButton.originY - 16,\r\n        startButton.width + 32,\r\n        startButton.height + 32,\r\n      )\r\n      .setOrigin(0, 0)\r\n      .setInteractive()\r\n      .once(\"pointerup\", () => {\r\n        this.scene.manager.stop(\"FinishScene\");\r\n        this.scene.manager.start(\"Game\");\r\n      });\r\n\r\n    this.add\r\n      .zone(\r\n        highScore.x - highScore.width * highScore.originX - 16,\r\n        highScore.y - highScore.height * highScore.originY - 16,\r\n        highScore.width + 32,\r\n        highScore.height + 32,\r\n      )\r\n      .setOrigin(0, 0)\r\n      .setInteractive()\r\n      .once(\"pointerup\", () => {\r\n        this.scene.manager.stop(\"FinishScene\");\r\n        this.scene.manager.start(\"OverScene\");\r\n      });\r\n  }\r\n}\r\n","import Phaser from \"phaser\";\r\nimport axios from \"axios\";\r\n\r\n// const URL = \"http://localhost:3004\";\r\nconst URL = \"https://young-lake-73539.herokuapp.com\";\r\n\r\nlet best = [\r\n  { id: 12121, name: \"Bob\", level: 2 },\r\n  { id: 13345, name: \"Pit\", level: 3 },\r\n];\r\n\r\n// let game;\r\nlet scores = best;\r\nexport default class OverScene extends Phaser.Scene {\r\n  constructor() {\r\n    super(\"OverScene\");\r\n    this.scores = [];\r\n  }\r\n\r\n  preload() {\r\n    this.load.bitmapFont(\"arcade\", \"assets/arcade.png\", \"assets/arcade.xml\");\r\n  }\r\n  create() {\r\n    /////////////////////////////////////////////////////////////////\r\n    axios\r\n      .get(URL + \"/get-users\", {})\r\n      .then(resp => {\r\n        console.log(resp.data);\r\n        scores = resp.data;\r\n        this.add.bitmapText(50, 50, \"arcade\", \"RANK SCORE NAME\").setTint(0xffffff);\r\n        for (let i = 1; i < 6; i++) {\r\n          if (scores[i - 1]) {\r\n            this.add\r\n              .bitmapText(\r\n                50,\r\n                100 + 50 * i,\r\n                \"arcade\",\r\n                ` ${i}    ${scores[i - 1].level}    ${scores[i - 1].name}`,\r\n              )\r\n              .setTint(0xffffff);\r\n          } else {\r\n            this.add.bitmapText(50, 100 + 50 * i, \"arcade\", ` ${i}    0    ---`).setTint(0xffffff);\r\n          }\r\n        }\r\n        // this.scene.manager.stop(\"FinishScene\");\r\n        // this.scene.manager.start(\"OverScene\");\r\n      })\r\n      .catch(err => {\r\n        console.log(err.message);\r\n        this.add.bitmapText(50, 50, \"arcade\", \"sever no connected \").setTint(0xffffff);\r\n      });\r\n\r\n    const startButton = this.add\r\n      .bitmapText(280, 450, \"arcade\", \"start again\", 20)\r\n      .setOrigin(0.5, 1);\r\n\r\n    this.add.tween({\r\n      targets: [startButton],\r\n      ease: k => (k < 0.5 ? 0 : 1),\r\n      duration: 450,\r\n      yoyo: true,\r\n      repeat: -1,\r\n      alpha: 0,\r\n    });\r\n\r\n    this.add\r\n      .zone(\r\n        startButton.x - startButton.width * startButton.originX - 16,\r\n        startButton.y - startButton.height * startButton.originY - 16,\r\n        startButton.width + 32,\r\n        startButton.height + 32,\r\n      )\r\n      .setOrigin(0, 0)\r\n      .setInteractive()\r\n      .once(\"pointerup\", () => {\r\n        this.scene.manager.stop(\"OverScene\");\r\n        this.scene.manager.start(\"Game\");\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport Phaser from \"phaser\";\r\nimport StartScene from \"../Phaser/StartScene\";\r\nimport GameScene from \"../Phaser/GameScene\";\r\nimport FinishScene from \"../Phaser/FinishScene\";\r\nimport OverScene from \"../Phaser/OverScene\";\r\n\r\nclass Test extends React.Component {\r\n  componentDidMount() {\r\n    let config = {\r\n      type: Phaser.WEBGL,\r\n      width: 640,\r\n      height: 480,\r\n      backgroundColor: \"#000\",\r\n      dom: {\r\n        createContainer: true,\r\n      },\r\n      parent: \"phaser-example\",\r\n      scene: [StartScene, FinishScene, GameScene, OverScene],\r\n    };\r\n\r\n    new Phaser.Game(config);\r\n  }\r\n  shouldComponentUpdate() {\r\n    return false;\r\n  }\r\n  render() {\r\n    return <div id=\"phaser-game\"></div>;\r\n  }\r\n}\r\n\r\nexport default Test;\r\n","import \"./App.css\";\n// import React, { Component } from \"react\";\nimport { BrowserRouter, Switch, Redirect, Route } from \"react-router-dom\";\n\nimport Main from \"./Comonents/Main\";\n\nfunction App() {\n  return <Main />;\n}\n\n// function App() {\n//   return (\n//     <BrowserRouter>\n//       <Switch>\n//         <Route path=\"/\" exact component={Main} />\n//         <Route path=\"/score\" component={() => <div>Score</div>} />\n//       </Switch>\n//     </BrowserRouter>\n//   );\n// }\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\"),\n);\n"],"sourceRoot":""}